<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Clothes Management</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h1>Clothes Management Page</h1>

  <!-- Add Clothes Section -->
  <h2>Add New Clothes</h2>
  <form id="clothes-form">
    <input type="hidden" id="edit-id" value="">
    <label>
      Clothes Name:
      <input type="text" name="name" id="clothes-name" required>
    </label>
    <br><br>

    <label>
      Category:
      <select name="category" id="clothes-category">
        <option>Shirt</option>
        <option>Pants</option>
        <option>Jacket</option>
        <option>Dress</option>
      </select>
    </label>
    <br><br>

    <label>
      Size:
      <select name="size" id="clothes-size">
        <option>S</option>
        <option>M</option>
        <option>L</option>
        <option>XL</option>
      </select>
    </label>
    <br><br>

    <label>
      Price ($):
      <input type="number" name="price" id="clothes-price" min="0" step="0.01">
    </label>
    <br><br>

    <label>
      Quantity:
      <input type="number" name="quantity" id="clothes-quantity" min="1">
    </label>
    <br><br>

    <div class="form-actions">
      <button type="submit" id="form-submit-btn">Add Clothes</button>
      <button type="button" id="cancel-edit-btn" style="display: none; margin-top: 8px;">Cancel</button>
    </div>
  </form>

  <hr>

  <!-- Clothes List Section -->
  <h2>Clothes List</h2>
  <table border="1" cellpadding="8">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Category</th>
        <th>Size</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="clothes-tbody">
      <!-- Rows populated by JavaScript -->
    </tbody>
  </table>

  <script>
    // Load clothes from localStorage or use default data
    let clothes = JSON.parse(localStorage.getItem('clothes')) || [
      { id: 1, name: 'T-Shirt', category: 'Shirt', size: 'M', price: 20, quantity: 50 },
      { id: 2, name: 'Jeans', category: 'Pants', size: 'L', price: 40, quantity: 30 }
    ];
    let nextId = clothes.length ? Math.max(...clothes.map(c => c.id)) + 1 : 1;

    function saveClothes() {
      localStorage.setItem('clothes', JSON.stringify(clothes));
    }

    function renderTable() {
      const tbody = document.getElementById('clothes-tbody');
      tbody.innerHTML = clothes.map(c => `
        <tr data-id="${c.id}">
          <td>${c.id}</td>
          <td>${c.name}</td>
          <td>${c.category}</td>
          <td>${c.size}</td>
          <td>$${c.price}</td>
          <td>${c.quantity}</td>
          <td>
            <button type="button" class="btn-edit">Edit</button>
            <button type="button" class="btn-delete">Delete</button>
          </td>
        </tr>
      `).join('');

      // Attach event listeners
      tbody.querySelectorAll('.btn-edit').forEach(btn => {
        btn.addEventListener('click', () => editClothes(parseInt(btn.closest('tr').dataset.id)));
      });
      tbody.querySelectorAll('.btn-delete').forEach(btn => {
        btn.addEventListener('click', () => deleteClothes(parseInt(btn.closest('tr').dataset.id)));
      });
    }

    function resetForm() {
      document.getElementById('edit-id').value = '';
      document.getElementById('clothes-name').value = '';
      document.getElementById('clothes-category').value = 'Shirt';
      document.getElementById('clothes-size').value = 'M';
      document.getElementById('clothes-price').value = '';
      document.getElementById('clothes-quantity').value = '1';
      document.getElementById('form-submit-btn').textContent = 'Add Clothes';
      document.getElementById('cancel-edit-btn').style.display = 'none';
    }

    function editClothes(id) {
      const item = clothes.find(c => c.id === id);
      if (!item) return;
      document.getElementById('edit-id').value = id;
      document.getElementById('clothes-name').value = item.name;
      document.getElementById('clothes-category').value = item.category;
      document.getElementById('clothes-size').value = item.size;
      document.getElementById('clothes-price').value = item.price;
      document.getElementById('clothes-quantity').value = item.quantity;
      document.getElementById('form-submit-btn').textContent = 'Update Clothes';
      document.getElementById('cancel-edit-btn').style.display = 'block';
    }

    document.getElementById('cancel-edit-btn').addEventListener('click', resetForm);

    function deleteClothes(id) {
      if (confirm('Are you sure you want to delete this item?')) {
        clothes = clothes.filter(c => c.id !== id);
        saveClothes();
        renderTable();
      }
    }

    document.getElementById('clothes-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const editId = document.getElementById('edit-id').value;
      const name = document.getElementById('clothes-name').value.trim();
      const category = document.getElementById('clothes-category').value;
      const size = document.getElementById('clothes-size').value;
      const price = parseFloat(document.getElementById('clothes-price').value) || 0;
      const quantity = parseInt(document.getElementById('clothes-quantity').value) || 1;

      if (editId) {
        const item = clothes.find(c => c.id === parseInt(editId));
        if (item) {
          item.name = name;
          item.category = category;
          item.size = size;
          item.price = price;
          item.quantity = quantity;
        }
      } else {
        clothes.push({ id: nextId++, name, category, size, price, quantity });
      }

      saveClothes();
      renderTable();
      resetForm();
    });

    renderTable();
  </script>
</body>
</html>
